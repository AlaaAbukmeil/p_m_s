export let monthlyData = {
  "10/2017": { a2: 1549.35, a3: 1270.42, a4: null, a5: null, a6: null },
  "11/2017": { a2: 1553.08, a3: 1272.58, a4: null, a5: null, a6: null },
  "12/2017": { a2: 1565.24, a3: 1281.12, a4: null, a5: null, a6: null },
  "1/2018": { a2: 1582.17, a3: 1293.16, a4: null, a5: null, a6: null },
  "2/2018": { a2: 1577.28, a3: 1288.83, a4: null, a5: null, a6: null },
  "3/2018": { a2: 1568.0, a3: 1281.22, a4: null, a5: null, a6: null },
  "4/2018": { a2: 1573.75, a3: 1284.86, a4: null, a5: null, a6: null },
  "5/2018": { a2: 1563.31, a3: 1275.55, a4: null, a5: null, a6: null },
  "6/2018": { a2: 1556.31, a3: 1269.04, a4: null, a5: null, a6: null },
  "7/2018": { a2: 1570.37, a3: 1280.17, a4: null, a5: null, a6: null },
  "8/2018": { a2: 1582.77, a3: 1288.93, a4: null, a5: null, a6: null },
  "9/2018": { a2: 1604.5, a3: 1304.48, a4: null, a5: null, a6: null },
  "10/2018": { a2: 1582.39, a3: 1287.32, a4: null, a5: null, a6: null },
  "11/2018": { a2: 1595.53, a3: 1296.44, a4: null, a5: null, a6: null },
  "12/2018": { a2: 1597.13, a3: 1296.96, a4: null, a5: null, a6: null },
  "1/2019": { a2: 1679.2, a3: 1357.35, a4: null, a5: null, a6: null },
  "2/2019": { a2: 1708.16, a3: 1378.17, a4: null, a5: null, a6: null },
  "3/2019": { a2: 1753.03, a3: 1410.79, a4: null, a5: null, a6: null },
  "4/2019": { a2: 1759.66, a3: 1414.97, a4: null, a5: null, a6: null },
  "5/2019": { a2: 1763.76, a3: 1417.27, a4: null, a5: null, a6: null },
  "6/2019": { a2: 1770.55, a3: 1421.56, a4: null, a5: null, a6: null },
  "7/2019": { a2: 1776.2, a3: 1425.0, a4: null, a5: null, a6: null },
  "8/2019": { a2: 1773.12, a3: 1421.97, a4: null, a5: null, a6: null },
  "9/2019": { a2: 1775.97, a3: 1423.34, a4: null, a5: null, a6: null },
  "10/2019": { a2: 1788.1, a3: 1431.56, a4: null, a5: null, a6: null },
  "11/2019": { a2: 1802.53, a3: 1441.48, a4: null, a5: null, a6: null },
  "12/2019": { a2: 1806.99, a3: 1444.01, a4: null, a5: null, a6: null },
  "1/2020": { a2: 1831.55, a3: 1461.25, a4: null, a5: null, a6: null },
  "2/2020": { a2: 1845.3, a3: 1470.55, a4: null, a5: null, a6: null },
  "3/2020": { a2: 1747.99, a3: 1394.25, a4: null, a5: null, a6: null },
  "4/2020": { a2: 1824.36, a3: 1453.72, a4: null, a5: null, a6: null },
  "5/2020": { a2: 1832.48, a3: 1458.91, a4: null, a5: null, a6: null },
  "6/2020": { a2: 1864.69, a3: 1481.66, a4: null, a5: null, a6: null },
  "7/2020": { a2: 1893.02, a3: 1501.55, a4: null, a5: null, a6: null },
  "8/2020": { a2: 1928.32, a3: 1526.5, a4: null, a5: null, a6: null },
  "9/2020": { a2: 1909.58, a3: 1512.05, a4: null, a5: null, a6: null },
  "10/2020": { a2: 1894.78, a3: 1500.49, a4: null, a5: null, a6: null },
  "11/2020": { a2: 1952.68, a3: 1541.83, a4: null, a5: null, a6: null },
  "12/2020": { a2: 2022.45, a3: 1591.75, a4: null, a5: null, a6: null },
  "1/2021": { a2: 1918.96, a3: 1509.36, a4: null, a5: null, a6: null },
  "2/2021": { a2: 1921.21, a3: 1510.18, a4: null, a5: null, a6: null },
  "3/2021": { a2: 1921.42, a3: 1509.4, a4: null, a5: null, a6: null },
  "4/2021": { a2: 1951.81, a3: 1532.32, a4: null, a5: null, a6: null },
  "5/2021": { a2: 1977.07, a3: 1551.18, a4: null, a5: null, a6: null },
  "6/2021": { a2: 1929.38, a3: 1512.81, a4: null, a5: null, a6: null },
  "7/2021": { a2: 1804.79, a3: 1414.23, a4: null, a5: null, a6: null },
  "8/2021": { a2: 1795.63, a3: 1406.18, a4: null, a5: null, a6: null },
  "9/2021": { a2: 1712.58, a3: 1340.3, a4: null, a5: null, a6: null },
  "10/2021": { a2: 1509.62, a3: 1180.72, a4: null, a5: null, a6: null },
  "11/2021": { a2: 1477.16, a3: 1154.61, a4: null, a5: null, a6: null },
  "12/2021": { a2: 1475.79, a3: 1152.82, a4: 1000.0, a5: 1000.0, a6: 1000.0 },
  "1/2022": { a2: 1468.55, a3: 1146.49, a4: 995.29, a5: 994.67, a6: 994.88 },
  "2/2022": { a2: 1363.1, a3: 1063.49, a4: 924.01, a5: 922.86, a6: 923.24 },
  "3/2022": { a2: 1366.81, a3: 1065.72, a4: 926.72, a5: 924.99, a6: 925.57 },
  "4/2022": { a2: 1306.59, a3: 1018.14, a4: 886.08, a5: 883.87, a6: 884.6 },
  "5/2022": { a2: 1295.15, a3: 1008.59, a4: 878.5, a5: 875.76, a6: 876.67 },
  "6/2022": { a2: 1252.6, a3: 974.84, a4: 849.82, a5: 846.63, a6: 847.7 },
  "7/2022": { a2: 1237.95, a3: 962.83, a4: 840.05, a5: 836.38, a6: 837.6 },
  "8/2022": { a2: 1275.2, a3: 991.18, a4: 865.51, a5: 861.19, a6: 862.62 },
  "9/2022": { a2: 1277.59, a3: 992.43, a4: 867.32, a5: 862.45, a6: 864.07 },
  "10/2022": { a2: 1228.59, a3: 953.77, a4: 834.23, a5: 829.02, a6: 830.75 },
  "11/2022": { a2: 1243.32, a3: 964.6, a4: 844.4, a5: 838.61, a6: 840.54 },
  "12/2022": { a2: 1262.17, a3: 978.61, a4: 857.38, a5: 850.97, a6: 853.1 },
  "1/2023": { a2: 1290.29, a3: 999.79, a4: 876.67, a5: 869.57, a6: 871.93 },
  "2/2023": { a2: 1293.41, a3: 1001.58, a4: 878.97, a5: 871.31, a6: 873.85 },
  "3/2023": { a2: 1291.16, a3: 999.21, a4: 877.62, a5: 869.43, a6: 872.15 },
  "4/2023": { a2: 1303.34, a3: 1008.0, a4: 886.09, a5: 877.26, a6: 880.2 },
  "5/2023": { a2: 1305.19, a3: 1008.81, a4: 887.53, a5: 878.14, a6: 881.26 },
  "6/2023": { a2: 1313.79, a3: 1014.81, a4: 893.56, a5: 883.56, a6: 886.88 },
  "7/2023": { a2: 1332.34, a3: 1028.5, a4: 906.37, a5: 895.66, a6: 899.22 },
  "8/2023": { a2: 1322.02, a3: 1019.89, a4: 899.53, a5: 888.35, a6: 892.06 },
  "9/2023": { a2: 1322.89, a3: 1019.93, a4: 900.32, a5: 888.57, a6: 892.47 },
  "10/2023": { a2: 1308.76, a3: 1008.4, a4: 890.89, a5: 878.71, a6: 882.75 },
  "11/2023": { a2: 1352.05, a3: 1041.1, a4: 920.55, a5: 907.4, a6: 911.76 },
  "12/2023": { a2: 1379.93, a3: 1061.91, a4: 939.72, a5: 925.72, a6: 930.36 },
  "1/2024": { a2: 1404.46, a3: 1080.11, a4: 956.63, a5: 941.79, a6: 946.71 },
  "2/2024": { a2: 1422.73, a3: 1093.48, a4: 969.28, a5: 953.64, a6: 958.83 },
  "3/2024": { a2: 1431.79, a3: 1099.75, a4: 975.65, a5: 959.31, a6: 964.73 },
  "4/2024": { a2: 1430.97, a3: 1098.44, a4: 975.0, a5: 958.16, a6: 963.77 },
};

export function calculateMonthlyReturn(data: any) {
  //assue months are sorted in ascending order
  let months = Object.keys(data);
  let monthlyReturns: any = {};
  let monthsIndex = months.length - 1;
  let yearlyData: any = {};
  while (monthsIndex > 0) {
    let month = months[monthsIndex];
    let previousMonth = months[monthsIndex - 1];
    let returnMonth = { a2: 0, a3: 0, a4: 0, a5: 0, a6: 0 };
    let year = month.split("/")[1];
    if (data[month].a2 && data[previousMonth].a2) {
      returnMonth.a2 = Math.round((data[month].a2 / data[previousMonth].a2 - 1) * 10000) / 100;
    }
    if (data[month].a3 && data[previousMonth].a3) {
      returnMonth.a3 = Math.round((data[month].a3 / data[previousMonth].a3 - 1) * 10000) / 100;
    }
    if (data[month].a4 && data[previousMonth].a4) {
      returnMonth.a4 = Math.round((data[month].a4 / data[previousMonth].a4 - 1) * 10000) / 100;
    }
    if (data[month].a5 && data[previousMonth].a5) {
      returnMonth.a5 = Math.round((data[month].a5 / data[previousMonth].a5 - 1) * 10000) / 100;
    }
    if (data[month].a6 && data[previousMonth].a6) {
      returnMonth.a6 = Math.round((data[month].a6 / data[previousMonth].a6 - 1) * 10000) / 100;
    }

    monthlyReturns[month] = {
      a2: returnMonth.a2,
      a3: returnMonth.a3,
      a4: returnMonth.a4,
      a5: returnMonth.a5,
      a6: returnMonth.a6,
    };
    monthsIndex--;
    if (!yearlyData[year]) {
      yearlyData[year] = { a2: data[month].a2, a3: data[month].a3, a4: data[month].a4, a5: data[month].a5, a6: data[month].a6 };
    }
  }

  let years = Object.keys(yearlyData);
  let yearsIndex = years.length - 1;
  let yearlyReturns: any = {};
  while (yearsIndex < 0) {
    let year = years[yearsIndex];
    let previousYear = years[yearsIndex - 1];
    let yearlyReturn = { a2: 0, a3: 0, a4: 0, a5: 0, a6: 0 };
    if (yearlyData[year].a2 && yearlyData[previousYear].a2) {
      yearlyReturn.a2 = Math.round((yearlyData[year].a2 / yearlyData[previousYear].a2 - 1) * 10000) / 100;
    }
    if (yearlyData[year].a3 && yearlyData[previousYear].a3) {
      yearlyReturn.a3 = Math.round((yearlyData[year].a3 / yearlyData[previousYear].a3 - 1) * 10000) / 100;
    }
    if (yearlyData[year].a4 && yearlyData[previousYear].a4) {
      yearlyReturn.a4 = Math.round((yearlyData[year].a4 / yearlyData[previousYear].a4 - 1) * 10000) / 100;
    }
    if (yearlyData[year].a5 && yearlyData[previousYear].a5) {
      yearlyReturn.a5 = Math.round((yearlyData[year].a5 / yearlyData[previousYear].a5 - 1) * 10000) / 100;
    }
    if (yearlyData[year].a6 && yearlyData[previousYear].a6) {
      yearlyReturn.a6 = Math.round((yearlyData[year].a6 / yearlyData[previousYear].a6 - 1) * 10000) / 100;
    }

    yearlyReturns[year] = {
      a2: yearlyReturn.a2,
      a3: yearlyReturn.a3,
      a4: yearlyReturn.a4,
      a5: yearlyReturn.a5,
      a6: yearlyReturn.a6,
    };
    yearsIndex--;
  }
  return { yearlyReturns: yearlyReturns, monthlyReturns: monthlyReturns, months: months, years: years };
}
